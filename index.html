<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>神游时刻 - Deep Space</title>
    <style>
        :root { --main-blue: #00d2ff; --glow-color: rgba(0, 210, 255, 0.5); }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #020205 url('GSFC_20171208_Archive_e001651~medium.jpg') no-repeat center center fixed; background-size: cover; color: #fff; font-family: 'Courier New', monospace; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; }

        /* 增加动态氛围遮罩 */
        .ambient-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.7) 100%); z-index: 1; pointer-events: none; }

        #container { position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; }

        /* 高级感像素烟 */
        .pixel-cig { position: relative; display: flex; align-items: center; filter: drop-shadow(0 0 15px rgba(0,0,0,0.9)); image-rendering: pixelated; }
        .filter-tip { width: 45px; height: 18px; background: linear-gradient(180deg, #d28c31 0%, #8e5a1d 100%); border: 2px solid #1a1a1a; box-shadow: inset 0 2px 2px rgba(255,255,255,0.2); }
        .cig-main { width: 160px; height: 18px; background: linear-gradient(180deg, #ffffff 0%, #cccccc 100%); border: 2px solid #1a1a1a; border-left: none; position: relative; }
        .burning-ember { position: absolute; right: -5px; top: -3px; width: 10px; height: 24px; background: #ff4500; box-shadow: 0 0 20px #ff4500, 0 0 40px #ff0000; animation: emberBreathe 1.2s infinite ease-in-out; }
        
        @keyframes emberBreathe { 0%, 100% { opacity: 0.7; transform: scaleX(1); } 50% { opacity: 1; transform: scaleX(1.4); } }

        /* 浮动UI层 */
        .ui-box { margin-top: 50px; width: 240px; text-align: center; }
        .label { font-size: 11px; letter-spacing: 5px; color: #888; margin-bottom: 20px; text-transform: uppercase; text-shadow: 0 0 10px #000; }
        .progress-track { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: visible; position: relative; }
        .progress-bar { height: 100%; width: 100%; background: var(--main-blue); box-shadow: 0 0 15px var(--main-blue); position: relative; transition: width 1s linear; }
        .progress-bar::after { content: ''; position: absolute; right: 0; top: -3px; width: 10px; height: 10px; background: #fff; border-radius: 50%; box-shadow: 0 0 15px #fff; }

        #timer-val { margin-top: 15px; font-size: 10px; color: #444; letter-spacing: 1px; }

        /* 情感文案 */
        .quote { margin-top: 50px; text-align: center; font-size: 15px; line-height: 2.5; opacity: 0.8; font-weight: 300; text-shadow: 0 2px 15px rgba(0,0,0,0.8); }

        /* 烟雾特效 */
        .smoke-p { position: absolute; width: 6px; height: 6px; background: rgba(255,255,255,0.2); right: -10px; animation: smokeFloat 4s forwards ease-out; }
        @keyframes smokeFloat { 0% { transform: translate(0,0) scale(1); opacity: 0.4; } 100% { transform: translate(100px, -150px) scale(4); opacity: 0; } }
    </style>
</head>
<body>
    <div class="ambient-overlay"></div>
    <div id="container">
        <div class="pixel-cig">
            <div class="filter-tip"></div>
            <div class="cig-main" id="cig-body">
                <div class="burning-ember"></div>
            </div>
        </div>

        <div class="ui-box">
            <div class="label">Epoch Duration</div>
            <div class="progress-track">
                <div class="progress-bar" id="p-bar"></div>
            </div>
            <div id="timer-val">REMAINING: <span id="time-left">300</span>S</div>
        </div>

        <div class="quote">
            你来啦。<br>
            一起来根烟吧。
        </div>
    </div>

    <script>
        let s = 300;
        const bar = document.getElementById('p-bar');
        const cig = document.getElementById('cig-body');
        const txt = document.getElementById('time-left');

        const interval = setInterval(() => {
            s--;
            txt.innerText = s;
            bar.style.width = (s / 300 * 100) + "%";
            cig.style.width = (s * 0.53) + "px"; // 适配新比例

            if (s % 3 === 0) {
                const p = document.createElement('div');
                p.className = 'smoke-p';
                p.style.top = Math.random() * 15 + 'px';
                document.querySelector('.pixel-cig').appendChild(p);
                setTimeout(() => p.remove(), 4000);
            }

            if (s <= 0) {
                clearInterval(interval);
                document.getElementById('container').innerHTML = "<div style='letter-spacing:5px; color:#333; font-size:12px;'>神游结束。连接已断开。</div>";
            }
        }, 1000);
    </script>
</body>
</html>
